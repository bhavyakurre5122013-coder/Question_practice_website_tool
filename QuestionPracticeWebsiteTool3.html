<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question Practice Tool</title>
    <script>
(function(){if(!window.chatbase||window.chatbase("getState")!=="initialized"){window.chatbase=(...arguments)=>{if(!window.chatbase.q){window.chatbase.q=[]}window.chatbase.q.push(arguments)};window.chatbase=new Proxy(window.chatbase,{get(target,prop){if(prop==="q"){return target.q}return(...args)=>target(prop,...args)}})}const onLoad=function(){const script=document.createElement("script");script.src="https://www.chatbase.co/embed.min.js";script.id="S9c_K0EpNQzO1IG-zB7lW";script.domain="www.chatbase.co";document.body.appendChild(script)};if(document.readyState==="complete"){onLoad()}else{window.addEventListener("load",onLoad)}})();
    </script>
    <style>
        /* Modern advanced CSS with flexbox, grid, transitions, and responsive design */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f7fa;
            color: #333;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            flex-direction: column;
        }

        .container {
            max-width: 800px;
            width: 100%;
            padding: 20px;
            background: white;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            text-align: center;
            transition: all 0.3s ease;
        }

        h1 {
            color: #007bff;
            margin-bottom: 20px;
            font-size: 2em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .selection-bar {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .selection-bar select {
            padding: 10px 15px;
            border: 1px solid #ced4da;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            background: #fff;
            transition: border-color 0.3s, box-shadow 0.3s;
            min-width: 150px;
        }

        .selection-bar select:focus {
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
            outline: none;
        }

        #question-section {
            margin-bottom: 20px;
            font-size: 1.2em;
            min-height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px dashed #ddd;
            border-radius: 8px;
            padding: 10px;
            background: #f9f9f9;
            white-space: pre-wrap;
            text-align: left;
        }

        #answer-box {
            width: 100%;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 8px;
            font-size: 1em;
            margin-bottom: 20px;
            resize: vertical;
            min-height: 100px;
            transition: border-color 0.3s;
        }

        #answer-box:focus {
            border-color: #007bff;
        }

        .buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .buttons button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }

        .buttons button:hover {
            transform: translateY(-2px);
        }

        #prev-btn {
            background-color: #28a745;
            color: white;
        }

        #next-btn {
            background-color: #28a745;
            color: white;
        }

        #ans-btn {
            background-color: #28a745;
            color: #333;
        }

        #actual-answer {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #28a745;
            border-radius: 8px;
            background: #d4edda;
            color: #155724;
            display: none;
            text-align: left;
            white-space: pre-wrap;
        }

        #dev-options-btn {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 20px;
            transition: background-color 0.3s;
        }

        #dev-options-btn:hover {
            background-color: #0056b3;
        }

        #dev-options {
            display: none;
            flex-direction: column;
            gap: 20px;
            width: 100%;
        }

        .dev-section {
            background: #e9ecef;
            padding: 15px;
            border-radius: 8px;
            text-align: left;
        }

        .dev-section h3 {
            margin-bottom: 10px;
            color: #007bff;
        }

        .dev-section input {
            padding: 8px;
            margin-right: 10px;
            margin-bottom: 10px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            width: 200px;
        }

        .dev-section textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 8px;
            font-size: 1em;
            margin-bottom: 10px;
            resize: vertical;
            min-height: 100px;
            transition: border-color 0.3s;
        }

        .dev-section textarea:focus {
            border-color: #007bff;
        }

        .dev-section button {
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            background-color: #007bff;
            color: white;
            transition: background-color 0.3s;
        }

        .dev-section button:hover {
            background-color: #0056b3;
        }

        .dev-section button.delete {
            background-color: #dc3545;
        }

        .dev-section button.delete:hover {
            background-color: #c82333;
        }

        /* Responsive design */
        @media (max-width: 600px) {
            .selection-bar {
                flex-direction: column;
                gap: 10px;
            }

            .buttons {
                flex-direction: column;
            }

            .dev-section input {
                width: 100%;
                margin-right: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Question Practice Tool</h1>

        <div class="selection-bar">
            <select id="subject-select">
                <option value="">Select Subject</option>
            </select>
            <select id="chapter-select" disabled>
                <option value="">Select Chapter</option>
            </select>
            <select id="exercise-select" disabled>
                <option value="">Select Exercise</option>
            </select>
        </div>

        <div id="question-section">No question selected.</div>

        <textarea id="answer-box" placeholder="Type your answer here..."></textarea>

        <div class="buttons">
            <button id="prev-btn">Prev</button>
            <button id="next-btn">Next</button>
            <button id="ans-btn">Ans</button>
        </div>

        <div id="actual-answer"></div>

        <button id="dev-options-btn">Developers Option</button>

        <div id="dev-options">
            <!-- Subject Management -->
            <div class="dev-section">
                <h3>Add Subject</h3>
                <input type="text" id="add-subject-name" placeholder="Subject Name">
                <button onclick="addSubject()">Save</button>
            </div>

            <div class="dev-section">
                <h3>Edit Subject</h3>
                <input type="text" id="edit-subject-old" placeholder="Old Subject Name">
                <input type="text" id="edit-subject-new" placeholder="New Subject Name">
                <button onclick="editSubject()">Save</button>
            </div>

            <div class="dev-section">
                <h3>Delete Subject</h3>
                <input type="text" id="delete-subject-name" placeholder="Subject Name">
                <button class="delete" onclick="deleteSubject()">Delete</button>
            </div>

            <!-- Chapter Management -->
            <div class="dev-section">
                <h3>Add Chapter</h3>
                <input type="text" id="add-chapter-subject" placeholder="Subject Name">
                <input type="text" id="add-chapter-name" placeholder="Chapter Name">
                <button onclick="addChapter()">Save</button>
            </div>

            <div class="dev-section">
                <h3>Edit Chapter</h3>
                <input type="text" id="edit-chapter-subject" placeholder="Subject Name">
                <input type="text" id="edit-chapter-old" placeholder="Old Chapter Name">
                <input type="text" id="edit-chapter-new" placeholder="New Chapter Name">
                <button onclick="editChapter()">Save</button>
            </div>

            <div class="dev-section">
                <h3>Delete Chapter</h3>
                <input type="text" id="delete-chapter-subject" placeholder="Subject Name">
                <input type="text" id="delete-chapter-name" placeholder="Chapter Name">
                <button class="delete" onclick="deleteChapter()">Delete</button>
            </div>

            <!-- Exercise Management -->
            <div class="dev-section">
                <h3>Add Exercise</h3>
                <input type="text" id="add-exercise-subject" placeholder="Subject Name">
                <input type="text" id="add-exercise-chapter" placeholder="Chapter Name">
                <input type="text" id="add-exercise-name" placeholder="Exercise Name">
                <button onclick="addExercise()">Save</button>
            </div>

            <div class="dev-section">
                <h3>Edit Exercise</h3>
                <input type="text" id="edit-exercise-subject" placeholder="Subject Name">
                <input type="text" id="edit-exercise-chapter" placeholder="Chapter Name">
                <input type="text" id="edit-exercise-old" placeholder="Old Exercise Name">
                <input type="text" id="edit-exercise-new" placeholder="New Exercise Name">
                <button onclick="editExercise()">Save</button>
            </div>

            <div class="dev-section">
                <h3>Delete Exercise</h3>
                <input type="text" id="delete-exercise-subject" placeholder="Subject Name">
                <input type="text" id="delete-exercise-chapter" placeholder="Chapter Name">
                <input type="text" id="delete-exercise-name" placeholder="Exercise Name">
                <button class="delete" onclick="deleteExercise()">Delete</button>
            </div>

            <!-- Question Management -->
            <div class="dev-section">
                <h3>Add Question</h3>
                <input type="text" id="add-question-subject" placeholder="Subject Name">
                <input type="text" id="add-question-chapter" placeholder="Chapter Name">
                <input type="text" id="add-question-exercise" placeholder="Exercise Name">
                <textarea id="add-question-text" placeholder="Question Text"></textarea>
                <textarea id="add-question-answer" placeholder="Correct Answer"></textarea>
                <button onclick="addQuestion()">Save</button>
            </div>

            <div class="dev-section">
                <h3>Edit Question</h3>
                <input type="text" id="edit-question-subject" placeholder="Subject Name">
                <input type="text" id="edit-question-chapter" placeholder="Chapter Name">
                <input type="text" id="edit-question-exercise" placeholder="Exercise Name">
                <input type="text" id="edit-question-index" placeholder="Question Index (0-based)">
                <textarea id="edit-question-new-text" placeholder="New Question Text"></textarea>
                <textarea id="edit-question-new-answer" placeholder="New Correct Answer"></textarea>
                <button onclick="editQuestion()">Save</button>
            </div>

            <div class="dev-section">
                <h3>Delete Question</h3>
                <input type="text" id="delete-question-subject" placeholder="Subject Name">
                <input type="text" id="delete-question-chapter" placeholder="Chapter Name">
                <input type="text" id="delete-question-exercise" placeholder="Exercise Name">
                <input type="text" id="delete-question-index" placeholder="Question Index (0-based)">
                <button class="delete" onclick="deleteQuestion()">Delete</button>
            </div>
        </div>
    </div>

    <script>
        // Data structure: { subjects: { "SubjectName": { chapters: { "ChapterName": { exercises: { "ExerciseName": { questions: [{text: "", answer: ""}] } } } } } }
        let data = JSON.parse(localStorage.getItem('questionPracticeTool')) || { subjects: {} };

        // Current selection states
        let currentSubject = '';
        let currentChapter = '';
        let currentExercise = '';
        let currentQuestionIndex = 0;

        // DOM elements
        const subjectSelect = document.getElementById('subject-select');
        const chapterSelect = document.getElementById('chapter-select');
        const exerciseSelect = document.getElementById('exercise-select');
        const questionSection = document.getElementById('question-section');
        const answerBox = document.getElementById('answer-box');
        const actualAnswer = document.getElementById('actual-answer');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const ansBtn = document.getElementById('ans-btn');
        const devOptionsBtn = document.getElementById('dev-options-btn');
        const devOptions = document.getElementById('dev-options');

        // Initialize
        function init() {
            loadSubjects();
            setupListeners();
            updateQuestionDisplay();
        }

        // Save data to local storage
        function saveData() {
            localStorage.setItem('questionPracticeTool', JSON.stringify(data));
        }

        // Load subjects into select
        function loadSubjects() {
            subjectSelect.innerHTML = '<option value="">Select Subject</option>';
            Object.keys(data.subjects).forEach(sub => {
                subjectSelect.innerHTML += `<option value="${sub}">${sub}</option>`;
            });
            if (currentSubject) subjectSelect.value = currentSubject;
            loadChapters();
        }

        // Load chapters for selected subject
        function loadChapters() {
            chapterSelect.innerHTML = '<option value="">Select Chapter</option>';
            chapterSelect.disabled = !currentSubject;
            if (currentSubject && data.subjects[currentSubject] && data.subjects[currentSubject].chapters) {
                Object.keys(data.subjects[currentSubject].chapters).forEach(chap => {
                    chapterSelect.innerHTML += `<option value="${chap}">${chap}</option>`;
                });
            }
            if (currentChapter) chapterSelect.value = currentChapter;
            loadExercises();
        }

        // Load exercises for selected chapter
        function loadExercises() {
            exerciseSelect.innerHTML = '<option value="">Select Exercise</option>';
            exerciseSelect.disabled = !currentChapter;
            if (currentSubject && currentChapter && data.subjects[currentSubject].chapters[currentChapter] && data.subjects[currentSubject].chapters[currentChapter].exercises) {
                Object.keys(data.subjects[currentSubject].chapters[currentChapter].exercises).forEach(ex => {
                    exerciseSelect.innerHTML += `<option value="${ex}">${ex}</option>`;
                });
            }
            if (currentExercise) exerciseSelect.value = currentExercise;
            updateQuestionDisplay();
        }

        // Update question display
        function updateQuestionDisplay() {
            if (!currentSubject || !currentChapter || !currentExercise) {
                questionSection.textContent = 'No question selected.';
                prevBtn.disabled = true;
                nextBtn.disabled = true;
                ansBtn.disabled = true;
                actualAnswer.style.display = 'none';
                return;
            }

            const questions = getCurrentQuestions();
            if (!questions || questions.length === 0) {
                questionSection.textContent = 'No questions available.';
                prevBtn.disabled = true;
                nextBtn.disabled = true;
                ansBtn.disabled = true;
                return;
            }

            currentQuestionIndex = Math.max(0, Math.min(currentQuestionIndex, questions.length - 1));
            questionSection.textContent = questions[currentQuestionIndex].text || 'No question text.';
            answerBox.value = '';
            actualAnswer.style.display = 'none';
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = currentQuestionIndex === questions.length - 1;
            ansBtn.disabled = false;
        }

        // Get current questions array
        function getCurrentQuestions() {
            try {
                return data.subjects[currentSubject].chapters[currentChapter].exercises[currentExercise].questions;
            } catch (e) {
                return null;
            }
        }

        // Setup event listeners
        function setupListeners() {
            subjectSelect.addEventListener('change', (e) => {
                currentSubject = e.target.value;
                currentChapter = '';
                currentExercise = '';
                currentQuestionIndex = 0;
                loadChapters();
            });

            chapterSelect.addEventListener('change', (e) => {
                currentChapter = e.target.value;
                currentExercise = '';
                currentQuestionIndex = 0;
                loadExercises();
            });

            exerciseSelect.addEventListener('change', (e) => {
                currentExercise = e.target.value;
                currentQuestionIndex = 0;
                updateQuestionDisplay();
            });

            prevBtn.addEventListener('click', () => {
                if (currentQuestionIndex > 0) {
                    currentQuestionIndex--;
                    updateQuestionDisplay();
                }
            });

            nextBtn.addEventListener('click', () => {
                const questions = getCurrentQuestions();
                if (questions && currentQuestionIndex < questions.length - 1) {
                    currentQuestionIndex++;
                    updateQuestionDisplay();
                }
            });

            ansBtn.addEventListener('click', () => {
                const questions = getCurrentQuestions();
                if (questions) {
                    actualAnswer.textContent = questions[currentQuestionIndex].answer || 'No answer provided.';
                    actualAnswer.style.display = 'block';
                }
            });

            devOptionsBtn.addEventListener('click', () => {
                devOptions.style.display = devOptions.style.display === 'none' ? 'flex' : 'none';
            });
        }

        // Add Subject
        function addSubject() {
            const name = document.getElementById('add-subject-name').value.trim();
            if (!name || data.subjects[name]) {
                alert('Invalid or duplicate subject name.');
                return;
            }
            data.subjects[name] = { chapters: {} };
            saveData();
            loadSubjects();
            document.getElementById('add-subject-name').value = '';
        }

// Edit Subject
        function editSubject() {
            const oldName = document.getElementById('edit-subject-old').value.trim();
            const newName = document.getElementById('edit-subject-new').value.trim();
                       if (!oldName || !newName || !data.subjects[oldName] || data.subjects[newName]) {
                alert('Invalid names or duplicate.');
                return;
            }
            data.subjects[newName] = data.subjects[oldName];
            delete data.subjects[oldName];
            if (currentSubject === oldName) currentSubject = newName;
            saveData();
            loadSubjects();
            document.getElementById('edit-subject-old').value = '';
            document.getElementById('edit-subject-new').value = '';
        }

        // Delete Subject
        function deleteSubject() {
            const name = document.getElementById('delete-subject-name').value.trim();
            if (!name || !data.subjects[name]) {
                alert('Subject not found.');
                return;
            }
            if (confirm(`Delete subject "${name}"?`)) {
                delete data.subjects[name];
                if (currentSubject === name) {
                    currentSubject = '';
                    currentChapter = '';
                    currentExercise = '';
                }
                saveData();
                loadSubjects();
                document.getElementById('delete-subject-name').value = '';
            }
        }

        // Add Chapter
        function addChapter() {
            const subject = document.getElementById('add-chapter-subject').value.trim();
            const name = document.getElementById('add-chapter-name').value.trim();
            if (!subject || !name || !data.subjects[subject] || data.subjects[subject].chapters[name]) {
                alert('Invalid or duplicate chapter.');
                return;
            }
            data.subjects[subject].chapters[name] = { exercises: {} };
            saveData();
            loadChapters();
            document.getElementById('add-chapter-subject').value = '';
            document.getElementById('add-chapter-name').value = '';
        }

        // Edit Chapter
        function editChapter() {
            const subject = document.getElementById('edit-chapter-subject').value.trim();
            const oldName = document.getElementById('edit-chapter-old').value.trim();
            const newName = document.getElementById('edit-chapter-new').value.trim();
            if (!subject || !oldName || !newName || !data.subjects[subject] || !data.subjects[subject].chapters[oldName] || data.subjects[subject].chapters[newName]) {
                alert('Invalid names or duplicate.');
                return;
            }
            data.subjects[subject].chapters[newName] = data.subjects[subject].chapters[oldName];
            delete data.subjects[subject].chapters[oldName];
            if (currentChapter === oldName) currentChapter = newName;
            saveData();
            loadChapters();
            document.getElementById('edit-chapter-subject').value = '';
            document.getElementById('edit-chapter-old').value = '';
            document.getElementById('edit-chapter-new').value = '';
        }

        // Delete Chapter
        function deleteChapter() {
            const subject = document.getElementById('delete-chapter-subject').value.trim();
            const name = document.getElementById('delete-chapter-name').value.trim();
            if (!subject || !name || !data.subjects[subject] || !data.subjects[subject].chapters[name]) {
                alert('Chapter not found.');
                return;
            }
            if (confirm(`Delete chapter "${name}" in "${subject}"?`)) {
                delete data.subjects[subject].chapters[name];
                if (currentChapter === name) {
                    currentChapter = '';
                    currentExercise = '';
                }
                saveData();
                loadChapters();
                document.getElementById('delete-chapter-subject').value = '';
                document.getElementById('delete-chapter-name').value = '';
            }
        }

        // Add Exercise
        function addExercise() {
            const subject = document.getElementById('add-exercise-subject').value.trim();
            const chapter = document.getElementById('add-exercise-chapter').value.trim();
            const name = document.getElementById('add-exercise-name').value.trim();
            if (!subject || !chapter || !name || !data.subjects[subject] || !data.subjects[subject].chapters[chapter] || data.subjects[subject].chapters[chapter].exercises[name]) {
                alert('Invalid or duplicate exercise.');
                return;
            }
            data.subjects[subject].chapters[chapter].exercises[name] = { questions: [] };
            saveData();
            loadExercises();
            document.getElementById('add-exercise-subject').value = '';
            document.getElementById('add-exercise-chapter').value = '';
            document.getElementById('add-exercise-name').value = '';
        }

        // Edit Exercise
        function editExercise() {
            const subject = document.getElementById('edit-exercise-subject').value.trim();
            const chapter = document.getElementById('edit-exercise-chapter').value.trim();
            const oldName = document.getElementById('edit-exercise-old').value.trim();
            const newName = document.getElementById('edit-exercise-new').value.trim();
            if (!subject || !chapter || !oldName || !newName || !data.subjects[subject] || !data.subjects[subject].chapters[chapter] || !data.subjects[subject].chapters[chapter].exercises[oldName] || data.subjects[subject].chapters[chapter].exercises[newName]) {
                alert('Invalid names or duplicate.');
                return;
            }
            data.subjects[subject].chapters[chapter].exercises[newName] = data.subjects[subject].chapters[chapter].exercises[oldName];
            delete data.subjects[subject].chapters[chapter].exercises[oldName];
            if (currentExercise === oldName) currentExercise = newName;
            saveData();
            loadExercises();
            document.getElementById('edit-exercise-subject').value = '';
            document.getElementById('edit-exercise-chapter').value = '';
            document.getElementById('edit-exercise-old').value = '';
            document.getElementById('edit-exercise-new').value = '';
        }

        // Delete Exercise
        function deleteExercise() {
            const subject = document.getElementById('delete-exercise-subject').value.trim();
            const chapter = document.getElementById('delete-exercise-chapter').value.trim();
            const name = document.getElementById('delete-exercise-name').value.trim();
            if (!subject || !chapter || !name || !data.subjects[subject] || !data.subjects[subject].chapters[chapter] || !data.subjects[subject].chapters[chapter].exercises[name]) {
                alert('Exercise not found.');
                return;
            }
            if (confirm(`Delete exercise "${name}" in "${chapter}" of "${subject}"?`)) {
                delete data.subjects[subject].chapters[chapter].exercises[name];
                if (currentExercise === name) currentExercise = '';
                saveData();
                loadExercises();
                document.getElementById('delete-exercise-subject').value = '';
                document.getElementById('delete-exercise-chapter').value = '';
                document.getElementById('delete-exercise-name').value = '';
            }
        }

        // Add Question
        function addQuestion() {
            const subject = document.getElementById('add-question-subject').value.trim();
            const chapter = document.getElementById('add-question-chapter').value.trim();
            const exercise = document.getElementById('add-question-exercise').value.trim();
            const text = document.getElementById('add-question-text').value;
            const answer = document.getElementById('add-question-answer').value;
            if (!subject || !chapter || !exercise || !text || !data.subjects[subject] || !data.subjects[subject].chapters[chapter] || !data.subjects[subject].chapters[chapter].exercises[exercise]) {
                alert('Invalid inputs or path not found.');
                return;
            }
            data.subjects[subject].chapters[chapter].exercises[exercise].questions.push({ text, answer });
            saveData();
            updateQuestionDisplay();
            document.getElementById('add-question-subject').value = '';
            document.getElementById('add-question-chapter').value = '';
            document.getElementById('add-question-exercise').value = '';
            document.getElementById('add-question-text').value = '';
            document.getElementById('add-question-answer').value = '';
        }

        // Edit Question
        function editQuestion() {
            const subject = document.getElementById('edit-question-subject').value.trim();
            const chapter = document.getElementById('edit-question-chapter').value.trim();
            const exercise = document.getElementById('edit-question-exercise').value.trim();
            const index = parseInt(document.getElementById('edit-question-index').value.trim(), 10);
            const newText = document.getElementById('edit-question-new-text').value;
            const newAnswer = document.getElementById('edit-question-new-answer').value;
            if (!subject || !chapter || !exercise || isNaN(index) || !newText || !data.subjects[subject] || !data.subjects[subject].chapters[chapter] || !data.subjects[subject].chapters[chapter].exercises[exercise]) {
                alert('Invalid inputs or path not found.');
                return;
            }
            const questions = data.subjects[subject].chapters[chapter].exercises[exercise].questions;
            if (index < 0 || index >= questions.length) {
                alert('Invalid question index.');
                return;
            }
            questions[index].text = newText;
            questions[index].answer = newAnswer;
            saveData();
            updateQuestionDisplay();
            document.getElementById('edit-question-subject').value = '';
            document.getElementById('edit-question-chapter').value = '';
            document.getElementById('edit-question-exercise').value = '';
            document.getElementById('edit-question-index').value = '';
            document.getElementById('edit-question-new-text').value = '';
            document.getElementById('edit-question-new-answer').value = '';
        }

        // Delete Question
        function deleteQuestion() {
            const subject = document.getElementById('delete-question-subject').value.trim();
            const chapter = document.getElementById('delete-question-chapter').value.trim();
            const exercise = document.getElementById('delete-question-exercise').value.trim();
            const index = parseInt(document.getElementById('delete-question-index').value.trim(), 10);
            if (!subject || !chapter || !exercise || isNaN(index) || !data.subjects[subject] || !data.subjects[subject].chapters[chapter] || !data.subjects[subject].chapters[chapter].exercises[exercise]) {
                alert('Invalid inputs or path not found.');
                return;
            }
            const questions = data.subjects[subject].chapters[chapter].exercises[exercise].questions;
            if (index < 0 || index >= questions.length) {
                alert('Invalid question index.');
                return;
            }
            if (confirm(`Delete question at index ${index}?`)) {
                questions.splice(index, 1);
                saveData();
                if (currentQuestionIndex >= questions.length) currentQuestionIndex = questions.length - 1;
                updateQuestionDisplay();
                document.getElementById('delete-question-subject').value = '';
                document.getElementById('delete-question-chapter').value = '';
                document.getElementById('delete-question-exercise').value = '';
                document.getElementById('delete-question-index').value = '';
            }
        }

        // Run init
        init();
    </script>
</body>
</html>
